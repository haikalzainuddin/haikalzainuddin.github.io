<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AI Adoption Advisor — No‑Build Demo (LFA)</title>
<style>
  :root { --maxw: 880px; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 0; padding: 24px; background:#f7f7fb; color:#111; }
  .wrap { max-width: var(--maxw); margin: 0 auto; background:#fff; padding: 24px; border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.06); }
  h1 { font-size: 24px; margin: 0 0 8px; }
  h2 { font-size: 20px; margin: 24px 0 8px; }
  label { display:block; font-size: 18px; font-weight: 600; margin-bottom: 4px; }
  .desc { font-size: 13px; color:#555; margin: 0 0 8px; }
  .row { margin-bottom: 18px; }
  .val { font-size: 18px; margin: 4px 0; }
  input[type="text"], input[type="number"] { width: 100%; font-size: 18px; padding: 10px 12px; border: 1px solid #d0d0d7; border-radius: 10px; }
  .btns { display:flex; gap:10px; flex-wrap: wrap; margin: 16px 0; }
  button { font-size: 18px; border:0; border-radius: 10px; padding: 10px 14px; cursor:pointer; }
  .btn-primary { background:#2563eb; color:#fff; }
  .btn-secondary { background:#4338ca; color:#fff; }
  .panel { background:#fafafa; border:1px solid #e6e6ee; padding:12px; border-radius:10px; white-space: pre-wrap; }
  .panel strong { display:block; margin-bottom: 6px; }
  .legend { display:flex; justify-content: space-between; gap:6px; font-size: 14px; margin-top: 6px; }
  .legend.small { font-size: 12px; }
  .legend span { white-space: nowrap; }
  .legend .l1{color:#ef4444;} .legend .l2{color:#f97316;} .legend .l3{color:#eab308;} .legend .l4{color:#16a34a;} .legend .l5{color:#059669;} .legend .l6{color:#3b82f6;} .legend .l7{color:#7c3aed;}
  /* Sliders */
  input[type=range] { width: 100%; height: 14px; border-radius: 999px; background: linear-gradient(to right, red, orange, yellow, green, #059669); outline: none; -webkit-appearance: none; appearance:none; }
  input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance:none; width: 20px; height: 20px; background:#000; border:2px solid #fff; border-radius: 50%; box-shadow: 0 0 4px rgba(0,0,0,.6); cursor: pointer; }
  input[type=range]::-moz-range-thumb { width: 20px; height: 20px; background:#000; border:2px solid #fff; border-radius:50%; box-shadow: 0 0 4px rgba(0,0,0,.6); cursor: pointer; }
  .api { background:#f8fafc; border:1px solid #e5e7eb; padding:10px; border-radius:10px; }
  .muted { color:#6b7280; font-size:12px; }
</style>
</head>
<body>
  <div class="wrap">
    <h1>Organisation's Profile</h1>
    <p class="desc">Please provide some basic information about your organisation.</p>
    <div class="row">
      <label for="orgName">Name of Organisation</label>
      <p class="desc">Please state your name of organisation.</p>
      <input id="orgName" type="text" placeholder="Enter organisation name" />
    </div>
    <div class="row">
      <label for="staff">Staff Count</label>
      <p class="desc">Please enter the total number of staff in your organisation.</p>
      <input id="staff" type="number" placeholder="Enter staff count" />
    </div>

    <h2>Organisation's Acceptance and Use of AI</h2>
    <p class="desc">Kindly provide the current perception on Artificial Intelligence (AI) to assess the readiness of AI adoption in your organisation.</p>

    <div class="row">
      <label>Performance Expectancy</label>
      <p class="desc">My organisation believes AI can enhance productivity, efficiency, and the overall quality of your work in the public sector.</p>
      <div class="val" id="val-performance">Selected Value: 3</div>
      <input id="performance" type="range" min="1" max="5" value="3" />
      <div class="legend">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
      </div>
    </div>

    <div class="row">
      <label>Effort Expectancy</label>
      <p class="desc">My organisation believes AI requires minimal effort or complexity as it is easy to use and user-friendly.</p>
      <div class="val" id="val-effort">Selected Value: 3</div>
      <input id="effort" type="range" min="1" max="5" value="3" />
      <div class="legend">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
      </div>
    </div>

    <div class="row">
      <label>Social Influence</label>
      <p class="desc">My organisation believes that others' expectations (such as management, work peers, mentors, outside of work network) encourage the use of AI tools in the workplace.</p>
      <div class="val" id="val-social">Selected Value: 3</div>
      <input id="social" type="range" min="1" max="5" value="3" />
      <div class="legend">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
      </div>
    </div>

    <div class="row">
      <label>Facilitating Condition</label>
      <p class="desc">My organisation provides the tools, training, and support systems to make it easier to implement and use AI in the workplace.</p>
      <div class="val" id="val-facilitating">Selected Value: 3</div>
      <input id="facilitating" type="range" min="1" max="5" value="3" />
      <div class="legend">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
      </div>
    </div>

    <h2>Organisation's AI Literacy</h2>

    <div class="row">
      <label>Awareness</label>
      <p class="desc">My organisation understands the concept of AI and its relevance to the public sector.</p>
      <div class="val" id="val-awareness">Selected Value: 4</div>
      <input id="awareness" type="range" min="1" max="7" value="4" />
      <div class="legend small">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
        <span class="l6">6 - Extremely High</span>
        <span class="l7">7 - Outstanding</span>
      </div>
    </div>

    <div class="row">
      <label>Usage</label>
      <p class="desc">The employees in my organisation currently use AI in their work tasks.</p>
      <div class="val" id="val-usage">Selected Value: 4</div>
      <input id="usage" type="range" min="1" max="7" value="4" />
      <div class="legend small">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
        <span class="l6">6 - Extremely High</span>
        <span class="l7">7 - Outstanding</span>
      </div>
    </div>

    <div class="row">
      <label>Evaluation</label>
      <p class="desc">My organisation has the capability to assess and evaluate AI applications and outcomes.</p>
      <div class="val" id="val-evaluation">Selected Value: 4</div>
      <input id="evaluation" type="range" min="1" max="7" value="4" />
      <div class="legend small">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
        <span class="l6">6 - Extremely High</span>
        <span class="l7">7 - Outstanding</span>
      </div>
    </div>

    <div class="row">
      <label>Ethics</label>
      <p class="desc">My organisation is aware of the ethical implications and governance in AI use.</p>
      <div class="val" id="val-ethics">Selected Value: 4</div>
      <input id="ethics" type="range" min="1" max="7" value="4" />
      <div class="legend small">
        <span class="l1">1 - Very Low</span>
        <span class="l2">2 - Low</span>
        <span class="l3">3 - Moderate</span>
        <span class="l4">4 - High</span>
        <span class="l5">5 - Very High</span>
        <span class="l6">6 - Extremely High</span>
        <span class="l7">7 - Outstanding</span>
      </div>
    </div>

    <div class="btns">
      <button class="btn-primary" id="btnSimple">Generate Simple Plan</button>
      <button class="btn-secondary" id="btnLFA">Build Detailed Plan (LFA)</button>
    </div>

    <div id="simpleOut" class="panel" style="display:none;">
      <strong>Advisor (Simple Plan):</strong>
      <div id="simpleText"></div>
    </div>

    <div id="lfaOut" class="panel" style="display:none;">
      <strong>Advisor (Detailed LFA Plan):</strong>
      <div id="lfaText"></div>
    </div>

    <div class="api" style="margin-top:16px;">
      <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px;">
        <input id="apiUrl" placeholder="/api/ask  or  https://your-function.azurewebsites.net/api/ask" style="flex:1; padding:8px 10px; font-size:14px; border:1px solid #d1d5db; border-radius:8px;" />
        <button id="btnAsk" class="btn-secondary">Ask</button>
      </div>
      <div class="muted">(Optional) Paste a live function URL for Q&A. If POST is blocked, the page will retry with GET using <code>?q=...&context=...</code>.</div>
      <div id="qaErr" class="muted" style="color:#b91c1c; margin-top:6px;"></div>
      <div id="qaOut" class="panel" style="display:none; margin-top:10px;">
        <strong>Advisor (Q&A):</strong>
        <div id="qaText"></div>
      </div>
    </div>

  </div>

<script>
  // Helpers for banding
  const level5 = (v) => (v <= 2 ? 'low' : v <= 3 ? 'medium' : 'high');
  const level7 = (v) => (v <= 3 ? 'low' : v <= 5 ? 'medium' : 'high');

  // Mirror 'Selected Value' label
  const ids = ['performance','effort','social','facilitating','awareness','usage','evaluation','ethics'];
  ids.forEach(id => {
    const input = document.getElementById(id);
    const label = document.getElementById('val-' + id);
    const update = () => { label.textContent = 'Selected Value: ' + input.value; };
    input.addEventListener('input', update);
    update();
  });

  // Simple Plan
  document.getElementById('btnSimple').addEventListener('click', () => {
    const performance = +document.getElementById('performance').value;
    const effort = +document.getElementById('effort').value;
    const social = +document.getElementById('social').value;
    const facilitating = +document.getElementById('facilitating').value;

    const sections = [];

    const perfText = level5(performance) === 'low'
      ? 'Begin by briefing senior leadership on the concrete benefits of artificial intelligence. Select two or three high‑value use cases where outcomes can be measured, such as reducing average service turnaround time or improving data accuracy. Define clear benefit statements and success indicators for each use case so everyone understands what improvement is expected and how it will be verified.'
      : level5(performance) === 'medium'
      ? 'Prioritise a short list of use cases using a simple benefits canvas that shows the current baseline, the target improvement, and who will benefit. Publish these expected gains to staff and align them with the organisation’s existing key performance indicators so teams can see how artificial intelligence supports day‑to‑day goals.'
      : 'Communicate quick wins from earlier pilots in plain language and link the results to existing performance agreements. Expand the most successful pilots to additional units, while keeping the measurement approach consistent so progress remains visible and credible.';

    const effortText = level5(effort) === 'low'
      ? 'Make initial adoption easy. Provide beginner‑friendly training, quick‑start guides, and scheduled help sessions. Standardise user interfaces and sign‑in processes so staff experience fewer steps and less confusion. Choose tools that are intuitive and require minimal configuration.'
      : level5(effort) === 'medium'
      ? 'Introduce role‑based playbooks that show exactly how different job functions can use artificial intelligence. Offer short tutorial videos and a searchable Frequently Asked Questions page. Simplify access by reducing approval steps and ensuring single sign‑on is available.'
      : 'Maintain a responsive support desk with clear service targets. Publish best‑practice templates and reusable prompts. Appoint and certify experienced users in each division to act as mentors who can assist colleagues at the point of need.';

    const socialText = level5(social) === 'low'
      ? 'Launch an internal communication campaign that explains why the organisation is adopting artificial intelligence and how staff can participate. Create a network of ‘AI champions’ drawn from different departments to provide peer support. Include adoption objectives in team plans so managers actively encourage participation.'
      : level5(social) === 'medium'
      ? 'Showcase early adopters through short demonstrations and sharing sessions. Recognise teams that document and share reusable prompts, workflows, and lessons learned, so positive examples spread across the organisation.'
      : 'Sustain communities of practice that meet regularly to exchange methods and results. Publish monthly success stories and facilitate cross‑agency knowledge exchanges to accelerate learning and reduce duplication.';

    const facilText = level5(facilitating) === 'low'
      ? 'Upgrade essential infrastructure and secure the right level of data access. Issue a clear policy for responsible use of artificial intelligence and set up a central catalogue for approved prompts, models, and datasets. Provide a support desk so staff always know where to ask for help.'
      : level5(facilitating) === 'medium'
      ? 'Strengthen security settings, automate user provisioning, and provide basic monitoring dashboards for usage and cost. Define escalation paths for incidents so risks are handled quickly and transparently.'
      : 'Institutionalise governance by establishing formal roles, budget lines, and decision gates. Integrate artificial‑intelligence metrics into regular operational reviews so leadership can track value and steer scaling decisions.';

    sections.push(
      '**Performance Expectancy**\\n' + perfText,
      '\\n\\n**Effort Expectancy**\\n' + effortText,
      '\\n\\n**Social Influence**\\n' + socialText,
      '\\n\\n**Facilitating Condition**\\n' + facilText
    );

    const awareness = +document.getElementById('awareness').value;
    const usage = +document.getElementById('usage').value;
    const evaluation = +document.getElementById('evaluation').value;
    const ethics = +document.getElementById('ethics').value;

    const litBits = [];
    if (level7(awareness) !== 'high') litBits.push('run plain‑language awareness sessions that explain core concepts, common terms, and real public‑sector examples');
    if (level7(usage) !== 'high') litBits.push('deliver hands‑on labs where staff complete real work tasks using artificial‑intelligence tools under supervision');
    if (level7(evaluation) !== 'high') litBits.push('teach simple evaluation methods, including setting baselines, checking outputs against policy, and recording results');
    if (level7(ethics) !== 'high') litBits.push('provide training on ethics, privacy, and bias, and introduce a lightweight impact assessment template');

    sections.push(
      '\\n\\n**AI Literacy**\\n' +
      `To strengthen organisational capability, ${litBits.length ? litBits.join(", ") : "continue coaching advanced users and documenting internal best practices"}. ` +
      'Offer tiered training (introductory, intermediate, and advanced), appoint champions in each unit, and include short refreshers during team meetings so knowledge spreads steadily.'
    );

    sections.push(
      '\\n\\n**Suggested Tools and Technologies**\\n' +
      'Start with a secure enterprise chatbot for frequently asked questions and drafting, document summarisation and translation tools, speech‑to‑text for meetings, and process automation for repetitive back‑office tasks. ' +
      'As capability grows, explore approved cloud services for model‑as‑a‑service, low‑code automation platforms, and open‑source options for on‑premise experimentation where required by policy.'
    );

    document.getElementById('simpleText').textContent = sections.join('\\n\\n');
    document.getElementById('simpleOut').style.display = 'block';
  });

  // Detailed LFA (static text with a few insertions)
  document.getElementById('btnLFA').addEventListener('click', () => {
    const orgName = document.getElementById('orgName').value || 'the organisation';
    const performance = +document.getElementById('performance').value;
    const effort = +document.getElementById('effort').value;
    const social = +document.getElementById('social').value;
    const facilitating = +document.getElementById('facilitating').value;

    const lfa =
`GOAL (Impact)
Improve citizen services and trust by responsibly adopting AI across ${orgName}.

PURPOSE (Outcome)
Within 6–12 months, pilot and institutionalise AI in priority processes to achieve measurable efficiency and quality gains.

OUTPUTS
O1. Leadership & Governance in place (policy, roles, risk controls)
O2. Workforce AI Literacy improved (awareness, usage, ethics)
O3. Priority AI Use-Cases piloted and evaluated
O4. Infrastructure & Data readiness established

KEY ACTIVITIES
- O1: Issue AI use policy & ethics guidelines; define RACI; establish approvals.
- O2: Run tiered training (intro → advanced); champions network; helpdesk.
- O3: Select 2–3 use-cases; define baselines & success metrics; run pilots; evaluate.
- O4: Secure data access; deploy required tools; monitoring & cost governance.

ADAPTIVE FOCUS (based on your inputs)
• Performance: ${level5(performance) === 'low' ? 'Leadership briefings + benefits canvas for each use-case.' : level5(performance) === 'medium' ? 'Publish expected gains and align with KPIs.' : 'Scale wins and link to performance contracts.'}
• Effort: ${level5(effort) === 'low' ? 'Beginner training, quick-start guides, simplify access.' : level5(effort) === 'medium' ? 'Role-based playbooks, FAQs, short videos.' : 'Maintain SLAs, certify power users.'}
• Social: ${level5(social) === 'low' ? 'Comms campaign + champions network.' : level5(social) === 'medium' ? 'Showcase early adopters; demo days.' : 'Communities of practice + cross-agency exchange.'}
• Facilitating: ${level5(facilitating) === 'low' ? 'Upgrade infra; data access; policy; registry; support desk.' : 'Security hardening; automated provisioning; dashboards.'}

KPIs & MEANS OF VERIFICATION
- % staff trained (LMS records); # champions appointed (HR memos)
- # pilots launched; % meeting target outcomes (pilot reports)
- Average service time reduction; error rate reduction (operations dashboards)
- Policy adoption rate; # completed DPIAs; compliance audit pass rate (audit logs)

TIMELINE (suggested)
0–3 months: Policy & awareness; select use cases; infrastructure gaps
3–6 months: Pilot builds; training; evaluation
6–12 months: Scale and institutionalise; integrate metrics into reviews

RISKS / ASSUMPTIONS
- Data quality & access; procurement lead times; staff resistance
- Assumes leadership sponsorship and minimal funding are available`;

    document.getElementById('lfaText').textContent = lfa;
    document.getElementById('lfaOut').style.display = 'block';
  });

  // Ask (API) with POST -> GET fallback
  document.getElementById('btnAsk').addEventListener('click', async () => {
    const qaErr = document.getElementById('qaErr');
    qaErr.textContent = '';
    const apiUrl = document.getElementById('apiUrl').value || '/api/ask';

    const orgName = document.getElementById('orgName').value;
    const staff = document.getElementById('staff').value;
    const context = {
      orgName,
      staffCount: staff,
      utAut: {
        performance: +document.getElementById('performance').value,
        effort: +document.getElementById('effort').value,
        social: +document.getElementById('social').value,
        facilitating: +document.getElementById('facilitating').value,
      },
      literacy: {
        awareness: +document.getElementById('awareness').value,
        usage: +document.getElementById('usage').value,
        evaluation: +document.getElementById('evaluation').value,
        ethics: +document.getElementById('ethics').value,
      },
    };

    const question = prompt('Type your question for the Advisor:');
    if (!question) return;

    try {
      // Try POST first
      let res = await fetch(apiUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ question, context }),
      });

      if (!res.ok) {
        const text = await res.text();
        const looksLikeAzureXml = text.includes('UnsupportedHttpVerb') || text.trim().startsWith('<?xml');
        if (res.status === 405 || looksLikeAzureXml) {
          const u = new URL(apiUrl, window.location.origin);
          const ctx64 = btoa(unescape(encodeURIComponent(JSON.stringify(context))));
          u.searchParams.set('q', question);
          u.searchParams.set('context', ctx64);
          res = await fetch(u.toString(), { method: 'GET' });
        } else {
          throw new Error(text || `Request failed with ${res.status}`);
        }
      }

      const ct = res.headers.get('content-type') || '';
      if (!ct.includes('application/json')) {
        const text = await res.text();
        throw new Error(text || 'Endpoint did not return JSON.');
      }

      const data = await res.json();
      document.getElementById('qaText').textContent = data.answer || '';
      document.getElementById('qaOut').style.display = 'block';
    } catch (e) {
      qaErr.textContent = e.message || 'Failed to contact API. Please set up a backend or change the API URL.';
    }
  });
</script>
</body>
</html>
